
params {
	
	// Sample specification and input data directory
	sample_manifest = "$baseDir/resources/samples/samples.tsv"
	bam_folder = "$baseDir/data"
	
	animal = "mamu" // At this point, the workflow supports Rhesus macaque sequences (mamu) or cynomolgus macaque sequences (mafa)
	
	// where to place results
	results = "$baseDir/results"
	
	// Setting for specific steps of the workflow
	pbaa_resources = "$baseDir/resources/pbaa"
	classify_resources = "$baseDir/resources/classify"
	
	
	orient {
	  dpa {
		  orient_reference = "$baseDir/resources/orient/MW679627.fasta"
	  }
	  dpb {
		  orient_reference = "$baseDir/resources/orient/MW679628.fasta"
	  }
	  dqa {
		  orient_reference = "$baseDir/resources/orient/MW679620.fasta"
	  }
	  dqb {
		  orient_reference = "$baseDir/resources/orient/MW679622.fasta"
	  }
	  drb {
		  orient_reference = "$baseDir/resources/orient/MW679619.fasta"
	  }
	}
	
	trim {
	  dpa {
		  minimum_length = "2300"
		  forward_primers = "GTRTGCTATGTATTTGCTTCATAGGG"
		  reverse_primers = "GGGTAAGAGGTTAGATATGGGAGT"
	  }
	  dpb {
		  minimum_length = "5700"
		  forward_primers = "GGATTAGGTGAGAGTGGYGCC"
		  reverse_primers = "TAGGTCATGTTTGTTCCCCGAC,CCTGAGTACTTGGGACCTCATG"
	  }
	  dqa {
		  minimum_length = "1900"
		  forward_primers = "GGTTCTTTCTTCCCCTGTTCTCC"
		  reverse_primers = "ATAGTTTCAGTCAGCCCTGGATG"
	}
	  dqb {
		  minimum_length = "4000"
		  forward_primers = "AGARCGCCCTGATCCCTCTAA"
		  reverse_primers = "YACCAAAGTTAAGGCTTGGTTCT"
	  }
	  drb {
		  minimum_length = "3500"
		  forward_primers = "GCGTCGCTGTCAGTGTCTTC"
		  reverse_primers = "TTCCTCCTCCAGAAAAGCCTATGG,AACCATGCACTGATSATTTCTGGA"
	  }
	}
	
	pbaa {
		dpa {
		  guide_fasta = "$baseDir/resources/pbaa/MW679627.fasta"
		  }
		dpb {
		  guide_fasta = "$baseDir/resources/pbaa/MW679628.fasta"
		  }
		dqa {
		  guide_fasta = "$baseDir/resources/pbaa/MW679620.fasta"
		  }
		dqb {
		  guide_fasta = "$baseDir/resources/pbaa/MW679622.fasta"
		  }
		drb {
		  guide_fasta = "$baseDir/resources/pbaa/cy0333-drb.fasta"
		  }
	  }
	  
	classify {
		ipd_genbank = "$baseDir/resources/classify/ipd-mhc-mamu-2022-07-11_cleaned_classII_exons2-4.gbk"
		}
	
	annotate {
		dpa {
		  mrna_reference = "resources/annotate/MW679627-e2-e4-mRNA.fasta"
		  cds_annotation = "resources/annotate/MW679627-e2-e4-mRNA-annotations.txt"
		  }
		dpb {
		  mrna_reference = "resources/annotate/MW679628-e2-e4-mRNA.fasta"
		  cds_annotation = "resources/annotate/MW679628-e2-e4-mRNA-annotations.txt"
		  }
		dqa {
		  mrna_reference = "resources/annotate/MW679620-e2-e4-mRNA.fasta"
		  cds_annotation = "resources/annotate/MW679620-e2-e4-mRNA-annotations.txt"
		  }
		dqb {
		  mrna_reference = "resources/annotate/MW679622-e2-e4-mRNA.fasta"
		  cds_annotation = "resources/annotate/MW679622-e2-e4-mRNA-annotations.txt"
		  }
		drb {
		  mrna_reference = "resources/annotate/MW679619-e2-e4-mRNA.fasta"
		  cds_annotation = "resources/annotate/MW679619-e2-e4-mRNA-annotations.txt"
		  }
	}
}


// Docker settings
docker.enabled = true
process.container = 'dockerreg.chtc.wisc.edu/dhoconno/mhc-alleles-from-gdna-amplicons:26132'


// Changing default workflow-visualizing configuration to true
dag {
	enabled = true
	overwrite = true
	file = 'class2-allele-discovery.png'
}


// Workflow introspection
timeline {
  enabled = false
  // overwrite = true
  file    = "${params.results}/timeline.html"
}

report {
  enabled = true
  // overwrite = true
  file    = "${params.results}/report.html"
}

trace {
  enabled = true
  // overwrite = true
  fields  = 'task_id,name,status,exit,realtime,%cpu,%mem,rss,vmem,peak_rss,peak_vmem,rchar,wchar'
  file    = "${params.results}/trace.txt"
}
